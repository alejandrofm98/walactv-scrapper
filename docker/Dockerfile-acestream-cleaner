FROM alpine:latest

# Instalar findutils para funciones avanzadas de find
RUN apk add --no-cache \
    findutils \
    coreutils \
    tzdata

# Copiar script de limpieza
COPY docker/scripts/cleaner.sh /usr/local/bin/cleaner.sh

# Dar permisos de ejecución
RUN chmod +x /usr/local/bin/cleaner.sh

# Crear directorio de caché
RUN mkdir -p /cache

# Ejecutar el script
CMD ["/usr/local/bin/cleaner.sh"]